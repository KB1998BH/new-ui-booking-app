<!DOCTYPE html>
<html>
    <head>
        <style>
        .center {
          text-align: center;
          color: red;
        }
        
        input {
          font-size: 30px;
          color: black;
          width: 1000px;
        }
        form {
            background-color: orange;
            text-align: center;
        }
        </style>
        </head>
  <body> 
    <h1 class="center">Book a Call</h1>
    <p><b>Book a call slot; our representative will call you within 1 hour of the selected time</b></p>
    <form action="#" onsubmit="saveToLocalStorage(event)">
       <div class="container">
         <div class="card-border">
          <label>Name:</label><br/>
          <input type="text" name="username" required><br/>
          <label>Email Id:</label><br/>
          <input type="email" name="emailId" required><br/>
          <label>Phone:</label><br/>
          <input type="tel" name="phone"><br/>
          <label >Time for Call:</label><br/>
          <input type="datetime-local" name="timeforcalling"><br/>
          <!-- <input type="button" onclick="submitForm()" value="Submit form" class="btn btn-primary"> -->
          <button>Submit</button>
         <li> <input type="button" value="Delete"></li>
        </div>
        </div>
    </form>
    <ul id ="listofitems"></ul>
    <script>
      function saveToLocalStorage(event){
        event.preventDefault();
        const name = event.target.username.value;
        const email = event.target.emailId.value;
        const phonenumber = event.target.phone.value;
        const call = event.target.timeforcalling.value;
        // localStorage.setItem('name', name);
        // localStorage.setItem('emailId', emailId);
        // localStorage.setItem('phoneNumber', phone);

        const obj = {
          name,
          email,
          phonenumber,
          call
        }
        localStorage.setItem(obj.emailId, JSON.stringify(obj))
        showUserOnScreen(obj)
      }
      function showUserOnScreen(obj) {
        const parentElem = document.getElementById('listofitems')
        const childElem = document.createElement('li')
        childElem.textContent = obj.name + ' - ' + obj.email + ' - ' + obj.phonenumber + ' - ' + obj.call

        //create a delete button 
        const deleteButton = document.createElement('input')
        deleteButton.type = "button"
        deleteButton.value = 'Delete'
        deleteButton.onclick = () => {
            localStorage.removeItem(obj.email);
            parentElem.removeChild(childElem)
        }
        childElem.appendChild(deleteButton)
        parentElem.appendChild(childElem)
      }
      
      // store the userdetails it in localstorage 
      //show the userdetails on the screen using dom manipulation
    </script>
  </body>
</html>